<!DOCTYPE html>
<html>

<head>
  <title>for/in and for/of Samples</title>
</head>

<body>
  <button onclick="forinSample();">for/in</button>
  <button onclick="forofSample();">for/of</button>
  <button onclick="loopStringSample();">Looping over a string</button>
  <button onclick="breakSample();">break</button>
  <button onclick="continueSample();">continue</button>
  <button onclick="labelSample();">Labeled statement</button>

  <script>
    'use strict';

    let _products = [
      {
        "productID": 680,
        "name": "HL Road Frame - Black, 58",
        "productNumber": "FR-R92B-58",
        "color": "Black",
        "standardCost": 1059.31,
        "listPrice": 1431.50
      },
      {
        "productID": 707,
        "name": "Sport-100 Helmet, Red",
        "productNumber": "HL-U509-R",
        "color": "Red",
        "standardCost": 13.08,
        "listPrice": 34.99
      },
      {
        "productID": 709,
        "name": "Mountain Bike Socks, M",
        "productNumber": "SO-B909-M",
        "color": "White",
        "standardCost": 3.3963,
        "listPrice": 9.50
      }
    ];

    // Using a for/in loop
    function forinSample() {
      let product = {
        "productID": 680,
        "name": "HL Road Frame - Black, 58",
        "productNumber": "FR-R92B-58",
        "color": "Black",
        "standardCost": 1059.31,
        "listPrice": 1431.50,
        calculateGrossProfit: function () {
          return this.listPrice - this.standardCost;
        }
      };

      for (const key in product) {                      /* we declare a const 'key' and then use 'in' to loop through the product object. Each iteration returns a key which we can refer to within the for loop by using that const 'key' */
        console.log("'" + key + "'=" + product[key]);
      }
    }

    // Using a for/of loop
    function forofSample() {
      for (const item of _products) {                 /* similar to above, we declare a const 'item' and then use 'of' to loop through our arr '_products'. Each iteration returns a product object. */
        console.log(JSON.stringify(item));            /* we use the const we defined above 'item' to refer to each product object. JSON.stringify allows us to return each object as a string in the browser */
      }
    }

    // Looping over a string
    function loopStringSample() {
      let productName = "HL Road Frame - Black, 58";
      let letters = "";

      for (const char of productName) {               /* same as the for/of example above, but looping over a string instead */
        letters += char;
      }
      console.log(letters);
    }

    // Use the break statement
    function breakSample() {
      for (const item of _products) {
        if (item.standardCost < 20) {
          break;                                    /* using 'break' to end the loop once we arrive at a product with a standardcost < 20. */
        }
        console.log(JSON.stringify(item));
      }
    }

    // Use the continue statement
    function continueSample() {
      for (const item of _products) {
        if (item.standardCost > 1000) {
          continue;                                 /* using 'continue' to end the loop when we arrive at a product that doesn't have standardcost > 1000. */
        }
        console.log(JSON.stringify(item));
      }
    }

    // Use of a label.
    // NOTE: I don't recommend use of labels as this leads to spaghetti code
    function labelSample() {
      even:                                             /* this is the label... basically never necessary */
      for (let index = 1; index <= 10; index++) {
        if (index % 2 == 1) {
          continue even;
        }
        console.log(index);
      }
    }
  </script>
</body>

</html>


<!-- 
  FOR/IN STATEMENTS:
  -Iterate over the the elements of an object (key-val pairs of property-method) and return the key
  -You can then do object[key] to get the value of that key-val pair.
  FOR/OF STATEMENTS:
  -Iterate over any iterable object (arr, str, etc.) and return an object on each iteration.
  BREAK STATEMENTS:
  -Leave a loop early (just like when used in switch statements).
  CONTINUE STATEMENTS:
  -Forces the loop to continue to the next iteration.
 -->